(function(n,t){typeof exports=="object"&&typeof module<"u"?t(exports,require("react"),require("react-router-dom")):typeof define=="function"&&define.amd?define(["exports","react","react-router-dom"],t):(n=typeof globalThis<"u"?globalThis:n||self,t(n.query={},n.React,n.ReactRouterDom))})(this,function(n,t,S){"use strict";const Q=(s,i=600)=>{const[g,a]=t.useState(s);return t.useEffect(()=>{const h=setTimeout(()=>a(s),i);return()=>{clearTimeout(h)}},[s,i]),g},T=({name:s,replace:i=!0,isDebounce:g=!1,isJSON:a=!1,defaultValue:h})=>{const q=S.useNavigate(),[y]=S.useSearchParams(),u=S.useLocation(),[b,p]=t.useState(()=>s?y.get(s):h),[N,D]=t.useState({}),m=Q(N);t.useEffect(()=>{if(s){const e=y.get(s);String(e)!==String(b)&&p(e)}},[y.get(s||"")]);const l=t.useCallback(({replace:e,name:r,value:d})=>{const{search:o,pathname:c}=u,f=new URLSearchParams(o);d?f.set(r,String(d)):f.delete(r),q({pathname:c,search:f.toString()},{state:u.state,replace:e})},[u]),E=t.useCallback((e,r)=>{e=a||(r==null?void 0:r.isJSON)?JSON.stringify(e):typeof e=="string"||typeof e=="number"?String(e):e;const{name:d,replace:o}=r||{},c=d||s,f=g;if(!c)return;const{search:L}=u,P=new URLSearchParams(L);e?P.set(c,String(e)):P.delete(c),p(e),f?D({replace:o!=null?o:i,name:c,value:e}):l({replace:o!=null?o:i,name:c,value:e})},[u.state]);return t.useEffect(()=>{m&&l(m)},[m]),[a?JSON.parse(b):b,E]};n.useQuery=T,Object.defineProperties(n,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
